{"ast":null,"code":"import axios from \"axios\";\nfunction getCookie(cname) {\n  let name = cname + \"=\";\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(\";\");\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\nconst APIUtils = axios.create({\n  headers: {\n    \"Content-Type\": \"Application/json\"\n  },\n  withCredentials: true\n});\nAPIUtils.interceptors.request.use(config => {\n  // handle token here...\n  config.headers[\"Authorization\"] = `Bearer ${getCookie(\"access_token\")}`;\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// APIUtils.interceptors.response.use(\n//     returnedValue => {\n\n//     }\n// )\n\nconst responseHandler = returnedValue => {\n  if (returnedValue.error_code == 0) {\n    // api request data\n    const {\n      data\n    } = returnedValue; // data: key of api\n    return data;\n  } else {\n    // return template\n    return returnedValue;\n  }\n};\nexport const get = async function (path) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const response = await APIUtils.get(path, data);\n  return responseHandler(response.data); // data of axios config\n};\n\nexport const post = async function (path) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const response = await APIUtils.post(path, data);\n  return responseHandler(response.data);\n};\nexport default APIUtils;","map":{"version":3,"names":["axios","getCookie","cname","name","decodedCookie","decodeURIComponent","document","cookie","ca","split","i","length","c","charAt","substring","indexOf","APIUtils","create","headers","withCredentials","interceptors","request","use","config","error","Promise","reject","responseHandler","returnedValue","error_code","data","get","path","arguments","undefined","response","post"],"sources":["/home/thanhnd13/Javascript/AILabTools/NhaCuaDi/frontend/src/utils/APIUtils.js"],"sourcesContent":["import axios from \"axios\";\n\nfunction getCookie(cname) {\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(\";\");\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == \" \") {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\nconst APIUtils = axios.create({\n    headers: {\n        \"Content-Type\": \"Application/json\",\n    },\n    withCredentials: true,\n});\n\nAPIUtils.interceptors.request.use(\n    (config) => {\n        // handle token here...\n        config.headers[\"Authorization\"] = `Bearer ${getCookie(\"access_token\")}`;\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\n// APIUtils.interceptors.response.use(\n//     returnedValue => {\n\n//     }\n// )\n\nconst responseHandler = (returnedValue) => {\n    if (returnedValue.error_code == 0) {\n        // api request data\n        const { data } = returnedValue; // data: key of api\n        return data;\n    } else {\n        // return template\n        return returnedValue;\n    }\n};\n\nexport const get = async (path, data = {}) => {\n    const response = await APIUtils.get(path, data);\n    return responseHandler(response.data); // data of axios config\n};\n\nexport const post = async (path, data = {}) => {\n    const response = await APIUtils.post(path, data);\n    return responseHandler(response.data);\n};\n\nexport default APIUtils;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,SAASA,CAACC,KAAK,EAAE;EACtB,IAAIC,IAAI,GAAGD,KAAK,GAAG,GAAG;EACtB,IAAIE,aAAa,GAAGC,kBAAkB,CAACC,QAAQ,CAACC,MAAM,CAAC;EACvD,IAAIC,EAAE,GAAGJ,aAAa,CAACK,KAAK,CAAC,GAAG,CAAC;EACjC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,EAAE,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IAChC,IAAIE,CAAC,GAAGJ,EAAE,CAACE,CAAC,CAAC;IACb,OAAOE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;MACvBD,CAAC,GAAGA,CAAC,CAACE,SAAS,CAAC,CAAC,CAAC;IACtB;IACA,IAAIF,CAAC,CAACG,OAAO,CAACZ,IAAI,CAAC,IAAI,CAAC,EAAE;MACtB,OAAOS,CAAC,CAACE,SAAS,CAACX,IAAI,CAACQ,MAAM,EAAEC,CAAC,CAACD,MAAM,CAAC;IAC7C;EACJ;EACA,OAAO,EAAE;AACb;AAEA,MAAMK,QAAQ,GAAGhB,KAAK,CAACiB,MAAM,CAAC;EAC1BC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB,CAAC;EACDC,eAAe,EAAE;AACrB,CAAC,CAAC;AAEFH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5BC,MAAM,IAAK;EACR;EACAA,MAAM,CAACL,OAAO,CAAC,eAAe,CAAC,GAAI,UAASjB,SAAS,CAAC,cAAc,CAAE,EAAC;EACvE,OAAOsB,MAAM;AACjB,CAAC,EACAC,KAAK,IAAK;EACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CACJ;;AAED;AACA;;AAEA;AACA;;AAEA,MAAMG,eAAe,GAAIC,aAAa,IAAK;EACvC,IAAIA,aAAa,CAACC,UAAU,IAAI,CAAC,EAAE;IAC/B;IACA,MAAM;MAAEC;IAAK,CAAC,GAAGF,aAAa,CAAC,CAAC;IAChC,OAAOE,IAAI;EACf,CAAC,MAAM;IACH;IACA,OAAOF,aAAa;EACxB;AACJ,CAAC;AAED,OAAO,MAAMG,GAAG,GAAG,eAAAA,CAAOC,IAAI,EAAgB;EAAA,IAAdF,IAAI,GAAAG,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC,CAAC;EACrC,MAAME,QAAQ,GAAG,MAAMnB,QAAQ,CAACe,GAAG,CAACC,IAAI,EAAEF,IAAI,CAAC;EAC/C,OAAOH,eAAe,CAACQ,QAAQ,CAACL,IAAI,CAAC,CAAC,CAAC;AAC3C,CAAC;;AAED,OAAO,MAAMM,IAAI,GAAG,eAAAA,CAAOJ,IAAI,EAAgB;EAAA,IAAdF,IAAI,GAAAG,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC,CAAC;EACtC,MAAME,QAAQ,GAAG,MAAMnB,QAAQ,CAACoB,IAAI,CAACJ,IAAI,EAAEF,IAAI,CAAC;EAChD,OAAOH,eAAe,CAACQ,QAAQ,CAACL,IAAI,CAAC;AACzC,CAAC;AAED,eAAed,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}